\begin{center}
    \includegraphics[width=100mm]{5_1.png}
\end{center}

\textbf{Умножение и деление:}

\begin{center}
    \includegraphics[width=100mm]{5_2.png}
\end{center}
\smallskip

(OP2 - регистр или память) \smallskip

\textbf{Содержимое аакумулятора} AX или AX:DX или EAX:EDX делится на
указанный операнд и результат записывается в AL или AX или EAX, в
зависимости от типа результат. Остаток помещается в  AH, DX или
EDX. \smallskip

\textbf{Значение флагов при делении не меняется}, но могут быть ошибки деления
на 0 или переполнения. 

\begin{center}
    \includegraphics[width=80mm]{5_3.png}
\end{center}

\textbf{При выполнении команд умножения и деления} необходимо следить
за размером операндов и при необходимости за значениями флажков сдвига
и переполнения. \smallskip

\textbf{Посмотрим фрагмент программы}, в котором цифры целого
беззнакового байтового числа N записывают в байты памяти, начиная
с индекса D как символы.

\begin{center}
    \includegraphics[width=80mm]{5_4.png}

    \includegraphics[width=80mm]{5_5.png}
\end{center}

\begin{center}
    \Large{\textbf{Директивы внешних ссылок}}
\end{center}

\textbf{Директивы внешних ссылок} позволяют организовать связь между
различными модулями, расположенными на диске, и между различными
файлами. \smallskip

Пример: Public <имя>,[<имя>] \smallskip

Эта директива определяет указанные имена как глобальные величины к которым можно обращаться
из дргого модуля. Именем может быть метка или переменная. \smallskip

\textbf{Если некоторое имя} определено в модуле А как глобальное,
а к нему нужно обращаться из других модулей, например B и C, то
в этих модулях B и C, должна быть деректива \smallskip 

EXTRN <имя>:<тип> (можно несколько) \smallskip

Имя одно и тоже, что написано в дерективе Public, а тип зависит от
значения имени, если имя это имя переменной, то на месте слова
тип может стоять одно из ключевых слов (BYTE, WORD, DWORD, FWORD,
QWORD, TWORD), если имя это метка, то типом может быть
NEAR или FAR. \smallskip

\textbf{Директива EXTRN} говорит, что эти имена являются
внешними для данного модуля.

\begin{center}
    \includegraphics[width=100mm]{5_6.png}
\end{center}

\textbf{Директива INCLUDE позволяет} подключить на этапе
ассемблирования файлы, расположенные на диске,например:
INCLUDE <имя файла>

\begin{center}
    \includegraphics[width=60mm]{5_7.png}
\end{center}

На этапе ассемблирования содержимое этого файла запишется на место этой директивы.

\begin{center}
    \Large{\textbf{Команды управления}}
\end{center}

\textbf{Команды управления} управляют кодом вычислительного процесса.
К ним относятся команды условной передачи управления, безусловной
передачи управления и команды организации управления. \smallskip

\textbf{Команды безусловной передачи управления имеют вид:} \smallskip

JMP <имя> \smallskip

\textbf{Имя - метка команды}, которая будет выполняться следующей
за JMP, команда, на которую передаём управление, может располагаться в
том же кодов сегменте, что и JMP, а может и в другом кодовом
сегменте. 

\begin{center}
    \includegraphics[width=70mm]{5_8.png}
\end{center}

\textbf{Если метка} содержится в другом кодовом сегменте, то в том
сегменте, куда передаём управление, должна быть деректива Public M1,
а в сегменте с JMP должна быть деректива ETRN M1: FAR \smallskip

\textbf{Передачи бываю прямыми или косвенными}, можно использовать
прямую (JMP M1) и косвенную (JMP [BX]) адресацию. \smallskip

\textbf{Команда безусловной пердачи управления}на ближнюю метку
занимает в памяти 3 байта, передача на дальнюю метку занимает 5
байтов памяти. Если мы знаем, что передаём управление не далее чем
на -128 или 127 байтов, то можно использовать команду занимающую
1 байт памяти. \smallskip

\textbf{За командой JMP} должна следовать команда с меткой
(обязательно, чтобы можно было вернуться к команде, следующей за
JMP) \smallskip

\textbf{К командам безусловной передачи управления} относятся
команды обращения к подпрограмам и возврата из подпрограммы. \smallskip

\textbf{Процедура обязательно имеет} тип NEAR или FAR, последний
нужно указывать обязательно. \smallskip

\textbf{NEAR может быть вызвана} только из того модуля в котором
содержится. Основная или головная программа всегда имеет
тип FAR, поскольку к ней обращается из отладчика. Если подпрограмм
немного, то их размещают в том же сегменте, что и основная
программа, а если их много, то для них выделяют отдельный
кодовый сегмент. \smallskip

\begin{center}
    \includegraphics[width=90mm]{5_9.png}

    \includegraphics[width=90mm]{5_10.png}
\end{center}

\textbf{Команда CALL <имя>}, которая может использовать как
прямую адресацию, так и косвенную. При обращении к подпрограмме
в стеке сохраняется адрес возврата, то есть адресс команды,
следующей за командой CALL, но если мы обращается к подпрограмме
ближнего типа, то в стеке сохраняется только смещение, а если квнешней
поцедуре, к подпрограмме, кодержащейся в другом кодовом сегменте,
то в стек записывается полный адресс (начало сегмента и смещение
относительного него). \smallskip

\begin{center}
    \includegraphics[width=100mm]{5_11.png}
\end{center}

\textbf{Команда RET может} реализовать выход из подпрограммы как
NEAR, так и FAR \smallskip

RETN - из подпрограммы ближнего типа вызова \smallskip

RETF - из подпрограммы дальнего типа вызова \smallskip

Параметр n необязательный, он говорит сколько надо байтов в
стеке нужно очистить \smallskip

\begin{center}
    \includegraphics[width=100mm]{5_12.png}
\end{center}

\begin{center}
    \Large{\textbf{Команды условной передачи управления}}
\end{center}

\textbf{Команды условной пердачи управления делят на 4 типа:} \smallskip

1) команды используемые после команд сравнения \smallskip

2) команды используемые после команд отличных от команд сравнения \smallskip

3) команды сравнения, но реагирующие на значения флагов \smallskip

4) команды, реагирующие на значение регистра CX \smallskip

\textbf{Общий вид объявления Jx <метка>} (J - всегда первая, а
затем следует несколько букв), метка в этой команде имеет право
отстоять не более чем на 127 байтов.

\begin{center}
    \includegraphics[width=100mm]{5_13.png}

    \includegraphics[width=110mm]{5_14.png}
\end{center}

\textbf{Если нужно реализовать условную} передачу управления
больше чем на 127 байт, то можно изменить условие передачи
управления

\begin{center}
    \includegraphics[width=80mm]{5_15.png}
\end{center}

\begin{center}
    \includegraphics[width=100mm]{5_16.png}
\end{center}