\begin{center}
    \Large{\textbf{Особенности использования команд пересылки}}
\end{center}

\textbf{Особенности использования команд пересылки:} \smallskip

1) Нельзя пересылать информацию из одной области памяти в другую;

2) Нельзя пересылать информацию из одного сегментного регистра в другой;

3) Нельзя пересылать непосредственный операнд в сегментный регистр,
но если такая необходимость возникает, то нужно использовать в качестве
промежуточного один из регистров общего назначения.

\begin{center}
    \includegraphics[width = 35mm]{3_1.png}
\end{center}

4) Нельзя изменять командой MOV содержимое регистра DS;

5) Данные в памяти хранятся в перевёрнутом виде, а в регистрах в
нормальном виде, и команда пересылки учитывает это, например,
R DW 1234h

В байте с адресом R будет 34h, в байте с адресом R+1 будет 12h.

\begin{center}
    \includegraphics[width = 50mm]{3_2.png}
\end{center}

6) Размер передаваемых данных определяется типом операндов в команде;

\begin{center}
    \includegraphics[width = 100mm]{3_3.png}
\end{center}

7) Если тип обоих операндов в команде определяется, то эти типы
должны соответствовать друг другу.

\begin{center}
    \includegraphics[width = 70mm]{3_4.png}
\end{center}

К командам пересылки относят команду обмена значений операндов.

\begin{center}
    \includegraphics[width = 70mm]{3_5.png}
\end{center}

Для перестановки значений байтов внутри регистра используют BSWOP.

\begin{center}
    \includegraphics[width = 70mm]{3_6.png}
\end{center}

\textbf{К командам пересылки относят:} \smallskip

Команды конвертирования:

\begin{center}
    \includegraphics[width = 70mm]{3_7.png}
\end{center}

Команды условной пересылки CMOVxx

\begin{center}
    \includegraphics[width = 70mm]{3_8.png}
\end{center}

Загрузка адреса.

\begin{center}
    \includegraphics[width = 80mm]{3_9.png}
\end{center}

\begin{center}
    \Large{\textbf{Структура программы на Ассемблере}}
\end{center}

\textbf{Ассемблер}~--- это низкоуровненый язык программирования и программа,
написанная на Ассемблере, должна пройти 3 этапа обработки, как и программа,
написанная на любом другом языке программирования. \smallskip

1"=й этап~--- преобразование исходного модуля в объектный~---
ассемблирование. Исходных модулей может быть один или несколько.

2"=й этап~--- с помощью программы редактора связей объектные модули 
объединяются в загрузочный, исполняемый модуль.

3"=й этап~--- выполнение программы. \smallskip

\textbf{Существует два типа исполняемых модулей:} exe"=файл и com"=файл. 
В результате выполнения второго этапа получается исполняемый exe"=файл,
чтобы получить com"=файл, необходимо выполнить ещё один этап обработки~---
преобразование exe"=файла в com"=файл. \smallskip

\textbf{Исходный файл на Ассемблере состоит из команд и директив.}
Команды преобразуются в машинные коды, реализующие алгоритм решения задачи.
Директивы описывают,каким образом необходимо выполнять ассемблирование и 
объединение модулей. Они описывают форматы данных, выыделяемые области
памяти и т. д. \smallskip

\begin{center}
    \Large{\textbf{Команды и директивы на Ассемблере}}
\end{center}

\textbf{Команда на Ассемблере состоит из четырёх полей:}

\begin{center}
    \includegraphics[width = 80mm]{3_10.png}
\end{center}

\textbf{Поля отделяют друг от друга хотя бы 1 пробелом.} Все поля, кроме
<код операции>, могут отсутствовать. <Имя> - символическое имя Ассемблера.
Имя используется в качетсве метки обращения к команде, передачи управления
на данную команду. [:] после имени означает, что метка является внутренней.
Код операции определяет какое действие должное выполнить процессор.
Поле <операнды> содержит адреса данных, или данные, участвующие в операции,
а также место расположения результатов операции. Операндов может быть
от 1 до 3, они отделяются друг от друга запятой.

Комментарии отделяются кроме пробела ещё и ";" и могут занимать всю строку
или часть строки.

\begin{center}
    \includegraphics[width = 100mm]{3_11.png}
\end{center}

Директива, как и команда, состоит из 4 полей:

\begin{center}
    \includegraphics[width = 90mm]{3_12.png}
\end{center}

Здесь <имя>~--- символическое имя Ассемблера, <код псевдооперации>~---
определяет назначение директивы. Операндов может быть различное количество
и для одной директивы.

\begin{center}
    \includegraphics[width = 100mm]{3_13.png}
\end{center}

\textbf{Исходный модуль на Ассемблере}~--- последовательность строк,
команд, директив и комментариев. \smallskip

\textbf{Исходный модуль просматривается Ассемблером}, пока не встретится
директива end. Обычно программа на Ассемблере состоит из 3 сегментов:
сегмента стека, сегмента данных, сегмента кода.

\begin{center}
    \includegraphics[width = 50mm]{3_14.png}
\end{center}

Каждый сегмент начинается директивой начала сегмента -Segment и 
еназывается директивой конца сегмента -ends, в операндах директивы
Segment содержится информация о назначении сегмента.

\begin{center}
    \Large{\textbf{Назначение сегментов}}
\end{center}

\textbf{В кодовом сегменте специальная директива \dots}

\begin{center}
    \includegraphics[width = 80mm]{3_15.png}
\end{center}

на Dseg ссылаются и DS, и ES. \smallskip

\textbf{Кодовый сегмент оформляется как процедура}, это может быть одна процедура или 
несколько последовательных процедур, или вложенных процедур.

\textbf{Структура кодового сегмента с использованием двух вложенных
процедур выглядит следующим образом:}

\begin{center}
    \includegraphics[width = 60mm]{3_16.png}
\end{center}

\textbf{В сегменте стека выделяется место под стек.} \smallskip

\textbf{В сегменте данных описываются данные}, используемые в программе,
выделяется место под промежуточные и окончательные результаты. \smallskip

\textbf{Кодовый сегмент содержит программу решения посталвенной задачи.}

\begin{center}
    \includegraphics[width = 50mm]{3_17.png}
    \newpage
    \includegraphics[width = 70mm]{3_18.png}
\end{center}

\begin{center}
    \Large{\textbf{Структура программы}}
\end{center}

1) строки 1, 5, 11~--- это комментарии.

2) кодовый сегмент содержит две последовательнные процедуры.
Первая процедура~--- внешняя, об этом говорит параметр FAR.

3) Строки 15"=18~--- реализуют связь с операционной системой и
опеределяют адрес начала сегмента данных.

4) Строка 19~--- это обращение к внутренней процедуре Main, строка 20,
команда Ret~--- воврат в ОС.

5) Main~--- внутрення процедура, о чём говорит парамерт NEAR в директиве
начала Proc.

6) Директива end имеет параметр Start, определяющий точку входа в программу,
то есть, с которой должно начитаться выполнение программы. \smallskip

\textbf{Внутренняя процедура}~--- это процедура, к которой можно обратиться
только из того сегмента, в котором она содержится. К внешней процедуре
сожно обратиться из любого сегмента. По умолчанию (если в директиве начала
процедуры параметр отсутствует) процедура является внутренней.

\begin{center}
    \Large{\textbf{Слова, константы, выражения, переменные}}
\end{center}

\textbf{Символические имена в Ассемблере могут состоять} из строчных
и прописных букв латинского алфавита, цифр от 0 до 9 и некоторых
сиволов '.', '?', \dots \smallskip

\textbf{В программе на Ассемблере могут использоваться} константы 5 типов:
целые двоичные, десятичные, шестнадцатиричные, действительные с 
плавающей точкой, символьные. \smallskip

\textbf{Целые двоичные}~--- это последовательности 0 и 1 со следующими за
ними символом 'b', например 10101010b или 11000011b. \smallskip

\textbf{Целые десятичные}~--- это обычные десятичные числа, возможно
заканчивающиеся буквой d, например, - 125 или 78d. \smallskip

\textbf{Целые шестнадцатиричные числа}~--- должны начинаться с цифры и
заканчиваются всегда 'h', если первый символ 'A', 'B', 'C', 'D', 'E',
'F', то перед ним необходимо поставить 0, иначе они будут восприниматься 
как символические имена. \smallskip

\textbf{Числа действительные с плавающей точкой} представляются в виде
мантиссы и порядка, например, -34.751e+02~--- это 3475.1 или 
0.547e-2~--- это 0.00547 \smallskip

\textbf{Строковые данные}~--- это последовательности символов, включенные
в апострофы или двойные кавычки, например, 'abcd', 'a1b2c3',
'567'. \smallskip

\textbf{Также, как и в языках высокого уровня}, в Ассемблере могут
использоваться именованные константы. Для этого существует специальная 
директива EQU. 

Например, 

M EQU 27; директива EQU присваивает имени M значение 27. \smallskip

\textbf{Переменные в Ассемблере} определяются с помощью директив
определения данных и памяти, например,

\begin{center}
    \includegraphics[width = 50mm]{3_19.png}
\end{center}

\textbf{Константы в основном} используются в директивах определения
или как непосредственно операнды в командах. \smallskip

\textbf{Выражения в Ассемблере} строятся из операндов, операторов и
скобок. \smallskip

\textbf{Операнды}~--- это константы или переменные. \smallskip

\textbf{Операторы}~--- это знаки операций (арифметических, логических,
отношений и некоторых специальных).

\begin{center}
    \includegraphics[width = 110mm]{3_20.png}
\end{center}